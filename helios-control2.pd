#N canvas 545 206 255 594 12;
#N canvas 254 34 472 650 frame 0;
#N canvas 300 560 635 535 heliosctl-dac 0;
#X obj 168 20 tgl 32 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 356 38 0;
#X obj 452 45 t b b;
#X msg 522 72 0 0 0 0 0;
#X text 3 0 DAC;
#X obj 452 15 r \$0-helios-init;
#X floatatom 114 105 6 1 65.535 0 - \$0-pps-in \$0-pps-out 24;
#X text 24 104 KPPS;
#X obj 218 85 r kill;
#X msg 354 74 50;
#X obj 525 105 s \$0-out;
#X obj 346 201 t b f b, f 21;
#X obj 418 237 t f f;
#X obj 346 300 sync-touch heliosctl/dac/laseron, f 21;
#X floatatom 346 173 5 0 0 0 - - - 0;
#X obj 346 142 r heliosctl/dac/laseron;
#X obj 34 341 print heliosctl-dac: patchid \$0;
#X obj 347 351 s to-touch;
#X obj 451 273 s \$0-out;
#X text 25 61 Intensity;
#X text 23 19 LASER;
#X floatatom 114 62 6 0 255 0 - \$0-intensity-in \$0-intensity-out 24;
#X obj 55 411 touchgate heliosctl/dac/intensity intensity 1 \$0;
#X obj 55 441 touchgate heliosctl/dac/pps pps 1000 \$0, f 48;
#X connect 0 0 12 0;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 2 0 9 0;
#X connect 2 1 3 0;
#X connect 3 0 10 0;
#X connect 5 0 2 0;
#X connect 8 0 0 0;
#X connect 11 0 13 0;
#X connect 11 1 0 0;
#X connect 11 2 13 2;
#X connect 12 0 13 1;
#X connect 12 1 18 0;
#X connect 13 0 17 0;
#X connect 14 0 11 0;
#X connect 15 0 14 0;
#X coords 0 -1 1 1 210 150 2 0 0;
#X restore 10 10 pd heliosctl-dac;
#N canvas 503 253 1094 511 heliosctl-transform 0;
#X floatatom 100 82 6 0 0 0 - \$0-scale-in \$0-scale-out 0;
#X floatatom 100 111 6 0 0 0 - \$0-offsetx-in \$0-offsetx-out 0;
#X floatatom 160 111 6 0 0 0 - \$0-offsety-in \$0-offsety-out 0;
#X obj 100 169 tgl 23 0 \$0-flipx-out \$0-flipx-in empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 160 169 tgl 23 0 \$0-flipy-out \$0-flipy-in empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X text 10 169 Flip;
#X text 10 83 Scale;
#X floatatom 100 140 6 0 0 0 - \$0-rotation-in \$0-rotation-out 0;
#X text 3 61 TRANSFORM;
#X text 10 113 Translate;
#X text 10 141 Rotate;
#X floatatom 100 303 6 0 0 0 - \$0-linearityx-in \$0-linearityx-out 0;
#X floatatom 160 303 6 0 0 0 - \$0-linearityy-in \$0-linearityy-out 0;
#X floatatom 100 332 6 0 0 0 - \$0-bowx-in \$0-bowx-out 0;
#X floatatom 160 332 6 0 0 0 - \$0-bowy-in \$0-bowy-out 0;
#X floatatom 100 275 6 0 0 0 - \$0-keystonex-in \$0-keystonex-out 0;
#X floatatom 160 275 6 0 0 0 - \$0-keystoney-in \$0-keystoney-out 0;
#X text 3 196 GEOMETRIC CORRECTION;
#X floatatom 100 246 6 0 0 0 - \$0-shearx-in \$0-shearx-out 0;
#X floatatom 160 246 6 0 0 0 - \$0-sheary-in \$0-sheary-out 0;
#X floatatom 100 361 6 0 0 0 - \$0-pincushionx-in \$0-pincushionx-out 0;
#X floatatom 160 361 6 0 0 0 - \$0-pincushiony-in \$0-pincushiony-out 0;
#X text 10 248 Shear;
#X text 10 277 Keystone;
#X text 10 305 Linearity;
#X text 10 334 Bow;
#X text 10 363 Pincushion;
#X floatatom 100 217 6 0 0 0 - \$0-scalex-in \$0-scalex-out 0;
#X floatatom 160 217 6 0 0 0 - \$0-scaley-in \$0-scaley-out 0;
#X text 10 219 Scale;
#X obj 10 10 preset-library helios-transform;
#X obj 234 1 r \$0-preset-in;
#X obj 11 432 send, f 16;
#X obj 236 85 r heliosctl/transform/preset/next;
#X obj 236 30 r heliosctl/transform/preset/prev;
#X msg 236 113 next 1;
#X msg 236 57 prev 1;
#X obj 237 349 s to-touch;
#X obj 238 285 list prepend send;
#X obj 238 315 list trim;
#X obj 237 250 oscformat;
#X obj 238 176 t s b;
#X msg 269 212 set /touch/heliosctl/transform/preset/name;
#X obj 597 11 touchgate heliosctl/transform/scale scale 0.01 \$0, f 62;
#X obj 11 405 dispatch-send2 \$0;
#X obj 597 41 touchgate heliosctl/transform/translatex offsetx 1 \$0, f 62;
#X obj 597 61 touchgate heliosctl/transform/translatey offsety 1 \$0, f 62;
#X obj 597 91 touchgate heliosctl/transform/rotate rotation 1 \$0, f 62;
#X obj 597 121 touchgate heliosctl/transform/flipx flipx 1 \$0, f 62;
#X obj 597 221 touchgate heliosctl/geocorrect/shearx shearx 0.01 \$0, f 62;
#X obj 597 271 touchgate heliosctl/geocorrect/keystonex keystonex 0.01 \$0, f 62;
#X obj 597 321 touchgate heliosctl/geocorrect/linearityx linearityx 0.01 \$0, f 62;
#X obj 597 376 touchgate heliosctl/geocorrect/bowx bowx 0.01 \$0, f 62;
#X obj 597 426 touchgate heliosctl/geocorrect/pincushionx pincushionx 0.01 \$0, f 62;
#X obj 597 141 touchgate heliosctl/transform/flipy flipy 1 \$0, f 62;
#X obj 597 191 touchgate heliosctl/geocorrect/scaley scaley 0.01 \$0, f 62;
#X obj 597 241 touchgate heliosctl/geocorrect/sheary sheary 0.01 \$0, f 62;
#X obj 597 291 touchgate heliosctl/geocorrect/keystoney keystoney 0.01 \$0, f 62;
#X obj 597 341 touchgate heliosctl/geocorrect/linearityy linearityy 0.01 \$0, f 62;
#X obj 597 396 touchgate heliosctl/geocorrect/bowy bowy 0.01 \$0, f 62;
#X obj 597 446 touchgate heliosctl/geocorrect/pincushiony pincushiony 0.01 \$0, f 62;
#X obj 597 171 touchgate heliosctl/geocorrect/scalex scalex 0.01 \$0, f 62;
#X connect 30 0 44 0;
#X connect 30 2 41 0;
#X connect 31 0 30 0;
#X connect 33 0 35 0;
#X connect 34 0 36 0;
#X connect 35 0 30 1;
#X connect 36 0 30 1;
#X connect 38 0 39 0;
#X connect 39 0 37 0;
#X connect 40 0 38 0;
#X connect 41 0 40 0;
#X connect 41 1 42 0;
#X connect 42 0 40 0;
#X connect 44 0 32 0;
#X connect 44 1 32 1;
#X coords 0 -1 1 1 210 390 2 0 0;
#X restore 10 170 pd heliosctl-transform;
#X obj 364 96 s \$0-out;
#X msg 364 71 0 0 0 0 0;
#X obj 261 13 loadbang;
#N canvas 431 54 969 824 helios-notes 0;
#X text 507 398 TODO;
#X text 526 416 - check for null list on DAC enable to prevent crash;
#X text 525 435 - separate RGB intensity;
#X text 528 455 - save / load settings profiles;
#X text 528 475 - color channel mapping;
#X text 48 44 [pps]: Points per second. Range 10 - 65535 \, default=20000, f 43;
#X text 45 80 [scale]: Scale points. 1.0=original size.;
#X text 48 145 [rotation]: Rotate points around the origin.;
#X text 45 216 [intensity]: Scale RGB values. Range 0 - 255 \, default=255;
#X text 44 247 [ttlthreshold]: Color TTL ON threshold. Range 0 - 255 \, default=0 \, 0=OFF, f 40;
#X text 44 284 [blankoffset]: Blanking/color timing offset. Default: 0;
#X text 42 317 [rawmode]: Disable optimisation - maxangle \, subdivide \, blanknum are ignored. Range 0 - 1 \, default=0, f 43;
#X text 45 367 [maxangle]: Set the max angle for a corner before inserting points. Range 0 - 180 \, default=15 degrees, f 44;
#X text 45 421 [subdivide]: Set the subdivision length for straight lines. Range 0 - 40096 \, default=15, f 43;
#X text 42 460 [blanknum]: Set the number of dwell points to insert at corners - Default=8, f 44;
#X text 42 501 [singlemode]: Dont repeat frame if a new frame has not been received. Default=0, f 42;
#X text 40 538 [startimmediately]: Start output immediately \, instead of waiting for current frame (if there is one) to finish playing. Default=0, f 41;
#X text 37 611 [dontblock]: Don't let WriteFrame() block execution while waiting for the transfer to finish. Default=0, f 41;
#X text 36 662 [maxstatuspoll]: Set the maximum number of times to poll the DAC ready status before sending the frame. Default=512, f 43;
#X text 497 61 [shearx] \, [sheary]: Shear X \, Y tranform;
#X text 497 81 [keystonex] \, [keystoney]: Keystone X \, Y tranform;
#X text 497 101 [linearityx] \, [linearityy]: Transform points X \, Y from linear to exponential., f 48;
#X text 497 141 [bowx] \, [bowy]: Bow transform;
#X text 497 161 [pincushionx] \, [pincushiony]: Pincushion transform;
#X text 498 187 [dumpframe]: Request a frame dump. Data for the next frame will be printed to stdout., f 49;
#X text 15 15 HELIOS MESSAGES;
#X text 45 168 [flipx] \, [flipy]: Invert points X \, Y coordinates. Range 0 - 1 \, default=0, f 50;
#X text 45 100 [offsetx] \, [offsety]: Offset points X \, Y coordinates. Range -4096 - 4096 \, default=0, f 47;
#X text 497 41 [scalex] \, [scaley]: Scale X \, Y transform;
#X restore 344 11 pd helios-notes;
#X obj 262 124 s \$0-helios-init;
#X obj 262 40 t b b, f 15;
#X obj 294 86 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 267 198 r \$0-out;
#X obj 267 227 s to-helios;
#X obj 364 227 print OUT;
#X connect 3 0 2 0;
#X connect 4 0 7 0;
#X connect 7 0 6 0;
#X connect 7 1 3 0;
#X connect 8 0 6 0;
#X connect 9 0 10 0;
#X coords 0 -1 1 1 230 570 2 0 0;
#X restore 12 9 pd frame;
